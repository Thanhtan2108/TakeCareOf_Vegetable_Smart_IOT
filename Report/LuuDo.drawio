<mxfile host="app.diagrams.net">
  <diagram id="smart_vegetable_flowchart" name="Page-1">
    <mxGraphModel>
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <!-- Start -->
        <mxCell id="2" value="Start" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="400" y="50" width="80" height="40" as="geometry"/>
        </mxCell>
        <!-- Initialize System -->
        <mxCell id="3" value="Initialize System&#xa;(Serial, I2C, Pins, Servo, OLED)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="360" y="120" width="160" height="60" as="geometry"/>
        </mxCell>
        <!-- Connect to Wi-Fi and Blynk -->
        <mxCell id="4" value="Connect to Wi-Fi and Blynk" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="360" y="200" width="160" height="60" as="geometry"/>
        </mxCell>
        <!-- Connection Successful? -->
        <mxCell id="5" value="Connection&#xa;Successful?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="400" y="280" width="80" height="80" as="geometry"/>
        </mxCell>
        <!-- Retry Connection -->
        <mxCell id="6" value="Retry after 10s" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="600" y="300" width="120" height="40" as="geometry"/>
        </mxCell>
        <!-- Main Loop -->
        <mxCell id="7" value="Main Loop" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="360" y="380" width="160" height="60" as="geometry"/>
        </mxCell>
        <!-- Sensor Tasks -->
        <mxCell id="8" value="Sensor Tasks&#xa;(DHT11, Soil, MQ135, Rain, Light)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="460" width="160" height="60" as="geometry"/>
        </mxCell>
        <!-- OLED Update Task -->
        <mxCell id="9" value="OLED Update Task" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="300" y="460" width="120" height="60" as="geometry"/>
        </mxCell>
        <!-- Mode Control Task -->
        <mxCell id="10" value="Mode Control Task" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="460" y="460" width="120" height="60" as="geometry"/>
        </mxCell>
        <!-- Blynk Control Task -->
        <mxCell id="11" value="Blynk Control Task" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="460" width="120" height="60" as="geometry"/>
        </mxCell>
        <!-- Blynk Update Task -->
        <mxCell id="12" value="Blynk Update Task" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="780" y="460" width="120" height="60" as="geometry"/>
        </mxCell>
        <!-- Check Mode -->
        <mxCell id="13" value="Mode = AUTO?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="480" y="540" width="80" height="80" as="geometry"/>
        </mxCell>
        <!-- Auto Control Logic -->
        <mxCell id="14" value="Auto Control Logic&#xa;(Servo, Pump, Fan)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="400" y="640" width="160" height="60" as="geometry"/>
        </mxCell>
        <!-- Process Blynk Commands -->
        <mxCell id="15" value="Process Blynk Commands" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="620" y="640" width="160" height="60" as="geometry"/>
        </mxCell>
        <!-- Arrows -->
        <mxCell id="16" edge="1" parent="1" source="2" target="3">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="17" edge="1" parent="1" source="3" target="4">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="18" edge="1" parent="1" source="4" target="5">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="19" edge="1" parent="1" source="5" target="6" value="No">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="20" edge="1" parent="1" source="6" target="4">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="21" edge="1" parent="1" source="5" target="7" value="Yes">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="22" edge="1" parent="1" source="7" target="8">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="23" edge="1" parent="1" source="7" target="9">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="24" edge="1" parent="1" source="7" target="10">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="25" edge="1" parent="1" source="7" target="11">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="26" edge="1" parent="1" source="7" target="12">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="27" edge="1" parent="1" source="10" target="13">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="28" edge="1" parent="1" source="13" target="14" value="Yes">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="29" edge="1" parent="1" source="13" target="15" value="No">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="30" edge="1" parent="1" source="14" target="7">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="31" edge="1" parent="1" source="15" target="7">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>